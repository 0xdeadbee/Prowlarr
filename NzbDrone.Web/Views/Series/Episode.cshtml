@using NzbDrone.Web.Helpers
@model NzbDrone.Web.Models.EpisodeModel

<tr class="data-row@(ViewData["AltRow"] == null || !(bool)ViewData["AltRow"] ? "" : " alt-row")" data-episodefileid="@Model.EpisodeFileId" data-episode-id="@Model.EpisodeId">
    <td>@Model.EpisodeNumber</td>
    <td>@Model.Title</td>
    <td>@Model.AirDate</td>
    <td class="episodeQuality" data-qualityid="@Model.QualityId">@Model.Quality</td>
    
    @{
        string cellColourClass = String.Empty;

        if (Model.Status == "Missing")
        {
            cellColourClass = "episodeMissing";
        }
        
        if (Model.Ignored)
        {
            cellColourClass = "episodeIgnored";
        }
    }

    @*Commands Column*@
    <td class="@cellColourClass">
        <img src='../../Content/Images/@(Model.Ignored ? "ignored" : "notIgnored").png' class="ignoreEpisode @(Model.Ignored ? " ignored" : " ") gridAction" title="Click to toggle episode ignore status" data-season="@Model.SeasonNumber" data-episode-id="@Model.EpisodeId" />
        @Ajax.ImageActionLink("../../Content/Images/Search.png", new { Alt = "Search", Title = "Search for episode", @class = "gridAction" }, "Search", "Episode", new { episodeId = Model.EpisodeId }, null, null)
        <img src="../../Content/Images/changequality.png" class="changeQuality gridAction" title="Click to change the quality of the episode file" data-changetype="episode"/>
        <img src="../../Content/Images/@(Model.Status).png" alt="@Model.Status" title="@Model.Status" class="gridImage statusImage" data-status="@Model.Status" />
    </td>
</tr>
<tr class="detail-row@(ViewData["AltRow"] == null || !(bool)ViewData["AltRow"] ? "" : " alt-row")">
    <td colspan="5">
        @Model.Overview <br />
        <b>@Model.Path</b>
    </td>
</tr>